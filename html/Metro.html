<!DOCTYPE html>
<!--[if IE 6]>
<html class="ie6">
<![endif]-->
<!--[if IE 7]>
<html class="ie7">
<![endif]-->
<!--[if IE 8]>
<html class="ie8">
<![endif]-->
<!--[if !IE]>
<html>
<![endif]-->
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../css/mbase.css" />
    <link rel="stylesheet" href="../css/metro.css" />
    <link rel="stylesheet" href="../css/mtile.css" />
    <style>
        body{
            color: white;
        }
        a{
            color:white;
            text-decoration: none;
        }
        h2 a:hover{
            color: red;
        }
        .bg-img-evernote{
            background: url(../images/Evernote.png);
        }
        .bg-img-dreamweaver{
            background: url(../images/Dreamweaver.png);
        }
        .bg-img-fireworks{
            background: url(../images/Fireworks.png);
        }
        .bg-img-flash{
            background: url(../images/Flash.png);
        }
        .bg-img-avast{
            background: url(../images/Avast.png);
        }
        .bg-img-desktop{
            background: url(../images/desktop.png) 50% 50% no-repeat;
        }
        [class*="bg-img"]{
            background-size: cover;
        }
    </style>
    <title>Metro UI Demo</title>
    <!--[if lt IE 9]>
    <script>
        var tags = ['article','section','hgroup','nav','header','footer'],
                i = 0,
                len = tags.length;
        for(;i<len;i++){
            document.createElement(tags[i]);
        }
    </script>
    <style>
        article,section,hgroup,nav,header,footer{
            display:block;
        }
    </style>
    <![endif]-->
</head>
<body>
    <header class="clearfix">
        <hgroup class="m-header">
            <h1 class="start ml10 fl">Start</h1>
            <h2 class="user-info mr10 fr"><a href="http://www.sanjh.cn" target="_blank" />SanJH.cn<img src="../images/face.png" class="user-face ml10 pr" /></a></h2>
        </hgroup>
    </header>
    <section class="m-container" id="js-m-container">
        <div class="m-content-wraper" id="js-m-conent-wrapper">
            <article class="m-group-double oh fl">
                <!--<header>
                </header>-->
                <ul class="m-content">
                    <li class="tile-double  bg-color-red">
                        <a  class="tile-content" href="http://www.sanjh.cn" target="-blank">
                            <span class="icon-font">&#xe141;</span>
                            <span class="tile-title">http://www.sanjh.cn</span>
                        </a>
                    </li>
                    <li class="tile bg-color-blue">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-img">
                                <img src="../images/ie10.png"/>
                            </span>
                            <span class="tile-title">Internet Explorer</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-purple"  data-role="tile-slider">
                        <a class="tile-content">
                            <span class="icon-font">&#x002a;</span>
                        </a>
                        <a class="tile-content">
                            <img src="../images/226941,106.jpg" />
                        </a>
                        <a class="tile-content">
                            <img src="../images/237011,106.jpg" />
                        </a>
                        <a class="tile-content">
                            <img src="../images/dyw_size.jpg" />
                        </a>
                        <a class="tile-content">
                            <img src="../images/beau.jpg" />
                        </a>
                        <span>
                            <span class="tile-title">Camera</span>
                            <span class="tile-count">4</span>
                        </span>
                    </li>
                    <li class="tile bg-color-pink">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#x0028;</span>
                            <span class="tile-title">Photo</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-blue">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe092;</span>
                            <span class="tile-title">Tiwwer</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-orange">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe08e;</span>
                            <span class="tile-title">Google+</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-red">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe0c4;</span>
                            <span class="tile-title">Adobe Reader</span>
                        </a>
                    </li>
                    <li class="tile bg-color-lime">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe0a5;</span>
                            <span class="tile-title">GitHub</span>
                        </a>
                    </li>
                    <li class="tile bg-color-magenta">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe0a9;</span>
                            <span class="tile-title">WordPress</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-red">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe23d;</span>
                            <span class="tile-title">Weather</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-green">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe159;</span>
                            <span class="tile-title">Map</span>
                        </a>
                    </li>

                    <li class="tile bg-color-red">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe15c;</span>
                            <span class="tile-title">通讯录</span>
                        </a>
                    </li>
                    <li class="tile bg-color-magenta">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#x003e;</span>
                            <span class="tile-title">计算器</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-purple">
                        <a class="tile-content" href="javascript:void(0);">
            <span class="icon-img">
                 <img src="../images/chrome.png" />
            </span>
                            <span class="tile-title">Google Chrome</span>
                        </a>
                    </li>
                    <li class="tile-double" id="blogger" data-role="tile-slider">
                        <a class="bg-color-red tile-content" href="http://sanjh.cn/0/">
                            <span class="icon-font">&#xe0ac;</span>
                            <span class="tile-title">Blogger</span>
                            <span class="tile-count">3</span>
                        </a>
                        <a class="bg-color-blue tile-content" href="http://sanjh.cn/1/">
            <span>
                <p><strong>Blogger添加Google+评论功能</strong></p>
                <p>
                    4月19日消息,据国外媒体报道,Google周四宣布在旗下的Blogger服务中嵌入Google+评论功能 ...
                </p>
            </span>
                            <span class="tile-title">News One</span>
                            <span class="tile-count">1</span>
                        </a>
                        <a class="bg-color-green tile-content" href="http://sanjh.cn/2/">
                            <p><strong>Google Blogger</strong>添加Google+评论功能</p>
                            <span class="tile-title">News Two</span>
                            <span class="tile-count">2</span>
                        </a>
                        <a class="bg-color-red tile-content" href="http://sanjh.cn/3/">
                            <p><strong>Google Blogger</strong>添加Google+评论功能</p>
                            <span class="tile-title">News Three</span>
                            <span class="tile-count">3</span>
                        </a>
                    </li>
                    <li class="tile-double bg-img-desktop">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font"></span>
                            <span class="tile-title">桌面</span>
                        </a>
                    </li>
                    <li class="tile-double bg-color-lime">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe0b1;</span>
                            <span class="tile-title">Amazon</span>
                        </a>
                    </li>
                    <li class="tile bg-color-red">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#x0070;</span>
                            <span class="tile-title">Setting</span>
                        </a>
                    </li>
                    <li class="tile bg-color-orange">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe090;</span>
                            <span class="tile-title">FaceBook</span>
                            <span class="tile-count">13</span>
                        </a>
                    </li>
                    <li class="tile bg-color-blue">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="icon-font">&#xe0b8;</span>
                            <span class="tile-title">Skype</span>
                        </a>
                    </li>
                    <li class="tile bg-img-evernote">
                        <a class="tile-content" href="javascript:void(0);">
                            <span class="tile-title">Evernote</span>
                        </a>
                    </li>
                </ul>
            </article>
            <article class="m-group oh fl">
                <ul class="m-content">
                    <li class="tile-double bg-color-teal" data-role="tile-slider">
                        <a class="tile-content" href="javascript:void(0);" class="tile-content">
                            <p>From: <strong>97532151@qq.com</strong></p>
                            <p>Hello,daiying.zhang welcome to join sanjh.cn</p>
                        </a>
                        <a class="tile-content" href="javascript:void(0);" class="tile-content">
                            <p>From: <strong>daiying.zhang@qunar.com</strong></p>
                            <p>Here is the code about the <strong>jquery.jscrollbar</strong> plugin and the ...</p>
                        </a>
                        <span>
                            <span class="tile-title tile-title-icon icon-f">&#xe165;</span>
                            <span class="tile-count">2</span>
                        </span>
                    </li>
                    <li class="tile">
                        <a class="tile-content bg-img-dreamweaver" href="javascript:void(0);">
                            <span class="tile-title">Adobe DreamWeaver</span>
                        </a>
                    </li>
                    <li class="tile">
                        <a class="tile-content bg-img-fireworks" href="javascript:void(0);">
                            <span class="tile-title">Adobe FireWorks</span>
                        </a>
                    </li>
                    <li class="tile">
                        <a class="tile-content bg-img-flash" href="javascript:void(0);">
                            <span class="tile-title">Adobe Flash</span>
                        </a>
                    </li>
                    <li class="tile">
                        <a class="tile-content bg-img-avast" href="javascript:void(0);">
                            <span class="tile-title">Avast Antivirus</span>
                        </a>
                    </li>
                </ul>
            </article>
            <article class="m-group oh fl">
                <!--<header>
                </header>-->
                <ul class="m-content">

                    <li class="tile-double bg-color-pink"></li>
                    <li class="tile-double bg-color-blue"></li>
                    <li class="tile-double bg-color-orange"></li>
                    <li class="tile bg-color-lime"></li>
                    <li class="tile bg-color-magenta"></li>
                    <li class="tile-double bg-color-purple"></li>
                    <li class="tile-double bg-color-teal"></li>
                    <li class="tile-double bg-color-pink"></li>
                    <li class="tile bg-color-blue"></li>
                </ul>
            </article>
            <article class="m-group oh fl">
                <!--<header>
                </header>-->
                <ul class="m-content">

                    <li class="tile-double bg-color-pink"></li>
                    <li class="tile-double bg-color-blue"></li>
                    <li class="tile-double bg-color-orange"></li>
                    <li class="tile bg-color-lime"></li>
                    <li class="tile bg-color-magenta"></li>
                    <li class="tile-double bg-color-purple"></li>
                    <li class="tile-double bg-color-teal"></li>
                    <li class="tile-double bg-color-pink"></li>
                    <li class="tile bg-color-blue"></li>
                </ul>
            </article>
            <article class="m-group oh fl">
                <!--<header>
                </header>-->
                <ul class="m-content">

                    <li class="tile-double bg-color-pink"></li>
                    <li class="tile-double bg-color-blue"></li>
                    <li class="tile-double bg-color-orange"></li>
                    <li class="tile bg-color-lime"></li>
                    <li class="tile bg-color-magenta"></li>
                    <li class="tile-double bg-color-purple"></li>
                    <li class="tile-double bg-color-teal"></li>
                    <li class="tile-double bg-color-pink"></li>
                    <li class="tile bg-color-blue">
                        <a href="javascript:void(0);">
                            <span class="tile-content icon-font">&#xe069;</span>
                        </a>
                        <span class="tile-title">Go Back</span>
                    </li>
                    <li class="tile bg-color-blue">
                        <a href="javascript:void(0);">
                            <span class="tile-content icon-font">&#xe067;</span>
                        </a>
                        <span class="tile-title">Next</span>
                    </li>
                </ul>
            </article>
        </div>
    </section>
    <!--<footer class="m-footer pa">
        By sanjh.cn&nbsp;
    </footer>-->
    <script src="../js/jquery-1.8.1.min.js"></script>
    <script src="../js/jquery.jqdrag-1.0.min.js"></script>
    <script src="../js/jquery.mousewheel.min.js"></script>
    <script src="../js/jquery.jscrollbar-1.0.2.src.js"></script>
    <script src="../js/tile.src.js"></script>
    <script>
        $(function(){
            $('#js-m-container').jscrollbar({
                showYBar:false,
                borderRadius:0,
                width:14,
                keyMoveAmount: 125,
                mouseMoveAmount: 125
            });
            reset(120,80,14);
            $(window).resize(function(){reset(120,80,14);})
        });

        function reset(height,startHeight,bottomHeight){
            //alert('reset');
            var docW = $(document.body).width(),
                docH = $(document.body).height(),
                rows = Math.floor((docH - startHeight - bottomHeight) / (height+10)), //当前可容纳的行数
                new_rows = rows,
                new_cols = 0;
            var mgroup = $('.m-group,.m-group-double');
            var height = mgroup.height();
            /*$('#js-m-container').css({
                'position':'relative',
                'top':(docH - height - startHeight - bottomHeight) / 2 +'px'
            });*/
            $('#js-m-conent-wrapper').css({
                'margin-top':(docH - height - startHeight - bottomHeight) / 2 +'px'
            });
            /*mgroup.each(function(i){
                var w = $(this).width(), //每一组的宽度
                    h = $(this).height(), //每一组的高度
                    col = w / (height * 2 + 20), //当前的列数
                    row = h / (height + 10), //当前的行数
                    total = col * row; //总共的tile数目(按照tile_double的大小计算)

                //console.log('第'+i+'组:[width:'+w+',height:'+h+'],[col:'+col+',row:'+row+']');
                //console.log('currentRows:',rows,'row:',row);
                if(row !== rows){ //重新排列后行数不相等
                    col = Math.ceil(total / rows); //新列数 = 总共的tile数目 / 行数
                    console.log('total:',total,'new Totals:', rows * col,'rows:',rows,'col:',col);
                    //纠正列数
                    //col = Math.max(new_rows,rows - Math.floor((rows * col - total) / rows));
                    $(this).width(col * (height * 2 + 20));
                    $(this).height(rows * (height + 10));
                    //console.log('total:',total,'new Totals:', rows * col);
                }
            });*/
            $('#js-m-container').css({'height':docH - startHeight  - 1 +'px'}).jscrollbar('updateUI');

        }
    </script>
</body>
</html>